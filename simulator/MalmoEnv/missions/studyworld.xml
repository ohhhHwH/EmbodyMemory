<?xml version="1.0"?>
    <Mission xmlns="http://ProjectMalmo.microsoft.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <About>
            <Summary>Everyday Minecraft life: survival</Summary>
        </About>

        <ModSettings>
            <MsPerTick>50</MsPerTick>
        </ModSettings>

        <ServerSection>
            <ServerInitialConditions>
                <Time>
                <StartTime>0</StartTime>
                <AllowPassageOfTime>false</AllowPassageOfTime>
                </Time>
                <Weather>clear</Weather>
                
                <AllowSpawning>false</AllowSpawning>
            </ServerInitialConditions>
            <ServerHandlers>
                <FlatWorldGenerator generatorString="3;minecraft:bedrock,2*minecraft:dirt,minecraft:grass;1;village" forceReset="true" />
                <DrawingDecorator>
                    <!-- Tricks to clean the map before drawing (avoid entity duplication on the map) -->
                    <!-- coordinates for cuboid are inclusive -->
                    <!-- <DrawCuboid type="air" x1="-24" x2="24" y1="4" y2="40" z1="-20" z2="20" /> -->
                    <!-- Draw world -->

                    <!-- Simple tree: oak log trunk and oak leaves canopy at (x=5,z=5) -->
                    <DrawBlock type="log" x="5" y="4" z="5" />
                    <DrawBlock type="log" x="5" y="5" z="5" />
                    <DrawBlock type="log" x="5" y="6" z="5" />
                    <DrawBlock type="log" x="5" y="7" z="5" />
                    <DrawBlock type="leaves" x="4" y="8" z="4" />
                    <DrawBlock type="leaves" x="4" y="8" z="5" />
                    <DrawBlock type="leaves" x="4" y="8" z="6" />
                    <DrawBlock type="leaves" x="5" y="8" z="4" />
                    <DrawBlock type="leaves" x="5" y="8" z="5" />
                    <DrawBlock type="leaves" x="5" y="8" z="6" />
                    <DrawBlock type="leaves" x="6" y="8" z="4" />
                    <DrawBlock type="leaves" x="6" y="8" z="5" />
                    <DrawBlock type="leaves" x="6" y="8" z="6" />
                    <DrawBlock type="leaves" x="5" y="9" z="5" />

                    <!-- <DrawBlock type="tallgrass" x="5" y="4" z="5" /> -->


                    
                    <!-- Mobs -->
                    <!-- <DrawEntity type="Pig" x="6.5" y="4" z="8.5" />
                    <DrawEntity type="Chicken" x="3.5" y="4" z="5.5" /> -->
                </DrawingDecorator>
                
                <ServerQuitFromTimeUp timeLimitMs="3000000" description="out_of_time"/>
                <ServerQuitWhenAnyAgentFinishes />
            </ServerHandlers>
        </ServerSection>

        <AgentSection mode="Survival">
            <Name>Agent0</Name>
            <AgentStart>
                <!-- <Placement x="5.5" y="5" z="3.5"/> -->
                <Placement x="-5.5" y="5" z="3.5"/>
                
                <Inventory>
                    <InventoryItem slot="0" type="crafting_table" quantity="1"/>
                    <!-- <InventoryItem slot="0" type="furnace" quantity="1"/> -->
                    <InventoryItem slot="1" type="log" quantity="64"/>
                    <InventoryItem slot="2" type="stick" quantity="64"/>
                    <InventoryItem slot="3" type="planks" quantity="64"/>
                    <InventoryItem slot="4" type="cobblestone" quantity="64"/>
                    <InventoryItem slot="5" type="iron_ore" quantity="64"/>
                    <InventoryItem slot="6" type="coal" quantity="64"/>
                </Inventory>
            </AgentStart>
            <AgentHandlers>
                <DiscreteMovementCommands/>
                
                <!-- <ContinuousMovementCommands turnSpeedDegs="30"/> -->
                <MissionQuitCommands/>

                <InventoryCommands/>

                <SimpleCraftCommands/>

                <NearbyCraftCommands/>

                <NearbySmeltCommands/>

                <ObservationFromFullInventory/>

                <ChatCommands/>

                <ObservationFromNearbyEntities>
                    <Range name="entities" xrange="8" yrange="2" zrange="6" />
                </ObservationFromNearbyEntities>
                <ObservationFromGrid>
                    <Grid name="around">
                        <min x="-2" y="-2" z="-2" />
                        <max x="2" y="3" z="2" />
                    </Grid>
                </ObservationFromGrid>
                <VideoProducer want_depth="true">
                   <Width>1440</Width>
                   <Height>960</Height>
                </VideoProducer>
                <RewardForMissionEnd>
                    <Reward description="found_goal" reward="1000" />
                    <Reward description="out_of_time" reward="-1000" />
                </RewardForMissionEnd>
                <AgentQuitFromTouchingBlockType>
                    <Block type="gold_block diamond_block redstone_block" description="found_goal" />
                </AgentQuitFromTouchingBlockType>
            </AgentHandlers>            
        </AgentSection>
</Mission>
